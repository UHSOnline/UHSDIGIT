
@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Agiliti: A3 Form: Edit</title>
    <link href="~/css/w3.css" rel="stylesheet">
    <!-- Bootstrap Core CSS -->
    <link href="~/css/bootstrap.min.css" rel="stylesheet">
    <!-- MetisMenu CSS -->
    <link href="~/css/metisMenu.min.css" rel="stylesheet">
    <!-- DataTables CSS -->
    <link href="~/vendors/datatables.net-bs/css/dataTables.bootstrap.min.css" rel="stylesheet">
    <link href="~/vendors/datatables.net-buttons-bs/css/buttons.bootstrap.min.css" rel="stylesheet">
    <link href="~/vendors/datatables.net-fixedheader-bs/css/fixedHeader.bootstrap.min.css" rel="stylesheet">
    <link href="~/vendors/datatables.net-responsive-bs/css/responsive.bootstrap.min.css" rel="stylesheet">
    <link href="~/vendors/datatables.net-scroller-bs/css/scroller.bootstrap.min.css" rel="stylesheet">
    <!-- Timeline CSS -->
    <link href="~/css/timeline.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="~/css/startmin.css" rel="stylesheet">
    <!-- Morris Charts CSS -->
    <link rel="stylesheet" type="text/css" href="~/dist/style/loadme.css">
    @*<link href="~/css/morris.css" rel="stylesheet">*@
    <link href="~/lib/highlightjs/github.css" rel="stylesheet">
    <link href="~/lib/morris.js/morris.css" rel="stylesheet">
    <!-- Custom Fonts -->
    <link href="~/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="~/css/datepicker.min.css" rel="stylesheet" type="text/css">
    <link href="~/css/jquery-confirm.min.css" rel="stylesheet" />
    <link href="~/css/Modal1440.css" rel="stylesheet" />
    <link rel="stylesheet" href="~/css/jquery-ui.css">
    

    <style>
        footer {
            display: none;
        }

        .buttonb {
            margin: 0 auto;
            font-size: 2.0rem;
            padding: 1.25rem 2.5rem;
            display: block;
            background-color: #ffffff;
            border: 1px solid;
            border-color: #009ac9;
            color: #009ac9;
            font-weight: bold;
            min-height: 200px;
            min-width: 220px;
            -webkit-border-radius: 3px;
            border-radius: 3px;
            -webkit-transition: all 0.3s ease-in-out;
            -moz-transition: all 0.3s ease-in-out;
            transition: all 0.3s ease-in-out;
        }

            .buttonb:hover {
                background-color: #009ac9;
                color: #ffffff;
                border-color: #009ac9;
            }

        .responsiveimg {
            width: 100%;
            height: auto;
        }

        .startbtn {
            display: none;
        }

        .loadDiv {
            display: block;
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background-color: black;
            opacity: 0.5;
            z-index: 6000;
            text-align: center;
        }
        .spanb {
            color:#6399AE;
            font-size:12px;
            font-weight:bold
        }
        .spanc {
            color: #F69240;
            font-size: 12px;
            font-weight: bold
        }
        .thinBorder {
            border: solid;
            border-width: thin;
            border-color: #F0FFFF;
        }      
        .progText {
            color: white;
            
        }
    </style>
</head><!--/head-->
<body>
    <!-- COMMON IDENTIFIERS -->
    @Html.Hidden("deldctpid")
    @Html.Hidden("mod1010005")

    @Html.Hidden("sID")
    @Html.Hidden("scrdt")
    @Html.Hidden("scompid")
    @Html.Hidden("scrusid")
    @Html.Hidden("scompld")
    @Html.Hidden("sdateed")
    <!-- HIDDEN DOCUMENT 1010005 - 1010006 - 1010007 DATA -->

    <div class="lckbckscr">
        <nav class="navbar navbar-fixed-top" role="navigation" style="background-color:#F5F5F5 !important">
            <div class="navbar-header">
                <div class="row">
                    <div class="col-lg-12" style="padding-top:4px; padding-left:30px">
                        <a class="w3-button w3-white w3-border btnSave03" title="Save&Reload"><i class="fa fa-save" style="padding-left:16px; padding-right:15px; color:#0076A8; transform:scale(1.3)"></i></a>
                        <a class="w3-button w3-white w3-border btnSave02" title="Save&Close"><i class="fa fa-save" style="padding-left:16px; padding-right:15px; color:forestgreen; transform:scale(1.3)"></i></a>
                        <a class="w3-button w3-white w3-border" onclick="closeDoc()" title="Quit"><i class="fa fa-close" style="padding-left:16px; padding-right:15px; color:red; transform:scale(1.3)"></i></a>
                        <a target="_blank" href="https://www.agilitihealth.com" style="padding-left:38px"><img src="~/images/logo-header4.png" /></a>
                    </div>

                </div>

            </div>
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse" style="font-size:20px">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            @using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm" }))
            {
                @Html.AntiForgeryToken()
                @Html.Action("_navbartop", "uhsCH")
            }

            <!-- /.navbar-top-links -->
            <div class="navbar-default sidebar" role="navigation">
                <div class="sidebar-nav navbar-collapse">
                    <ul class="nav" id="side-menu">
                        <li class="sidebar-search">
                            <div class="input-group custom-search-form">
                                <input type="text" class="form-control" placeholder="Search...">
                                <span class="input-group-btn">
                                    <button class="btn btn-primary" type="button">
                                        <i class="fa fa-search"></i>
                                    </button>
                                </span>
                            </div>
                            <!-- /input-group -->
                        </li>
                        <li>
                            <a href="/uhsCH/Home"><i class="fa fa-home fa-fw"></i> Home</a>
                        </li>
                        @Html.Action("SBagPr", "uhsCH")
                        @if (ViewBag.userTypeID == 2)
                        {
                            <li style="padding-left:3px">
                                <a target="_blank" href="/formsCRUD/Index?projectID=1&taskOrderID=1&Int1=1" style="color:#6399AE !important"><i class="fa fa-table"></i><span style="padding-left:1px"> System Administration</span></a>
                            </li>
                        }
                    </ul>
                </div>
            </div>
        </nav>

        <div id="page-wrapper">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-12" style="padding-bottom:2px">
                        <br />
                        <h3 class="page-header">
                            <span style="color:#0076A8; padding-right:32px">A3 Form </span>
                            <span style="color:#F69240; font-size:12px"> District: </span><span style="color:#0076A8; font-size:12px; padding-right:5px"> @ViewBag.comboDistrict </span>
                            <span style="color:#F69240; font-size:12px"> Month: </span><span style="color:#0076A8; font-size:12px; padding-right:5px"> @ViewBag.mnth </span>
                            
                            <span style="color:#F69240; font-size:12px"> Start: </span><span style="color:#0076A8; font-size:12px; padding-right:5px"> @ViewBag.datest </span>
                            <span style="color:#F69240; font-size:12px"> Expected: </span><span style="color:#0076A8; font-size:12px; padding-right:5px"> @ViewBag.dateex </span>
                        </h3>                      
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                            <div class="col-lg-4">
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="row" style="padding-bottom:2px">
                                            <div class="col-lg-3">
                                                <div class="row" style="padding-top:6px">
                                                    <span class="spanb">Project Name:</span>
                                                </div>
                                            </div>
                                            <div class="col-lg-9">
                                                <div class="row">
                                                    <input id="project" class="form-control thinBorder" placeholder="Type Project Name ...">
                                                </div>

                                            </div>
                                        </div>
                                        <div class="row" style="padding-bottom:2px">
                                            <div class="col-lg-3">
                                                <div class="row" style="padding-top:6px">
                                                    <span class="spanc">Oper. Manager:</span>
                                                </div>
                                            </div>
                                            <div class="col-lg-9">
                                                <div class="row">
                                                    <input id="oprmngr" class="form-control thinBorder" placeholder="Type Name ...">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-3">
                                                <div class="row" style="padding-top:6px">
                                                    <span class="spanc">Kaizen Leader:</span>
                                                </div>
                                            </div>
                                            <div class="col-lg-9">
                                                <div class="row">
                                                    <input id="kznlead" class="form-control thinBorder" placeholder="Type Name ...">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-12">
                                        <div class="row">
                                            <hr />
                                        </div>

                                    </div>

                                    <div class="col-lg-12">
                                        <div class="row" style="padding-bottom:2px">
                                            <div class="col-lg-3">
                                                <div class="row" style="padding-top:6px">
                                                    <span class="spanb">App Module:</span>
                                                </div>
                                            </div>
                                            <div class="col-lg-9">
                                                <div class="row">
                                                    @Html.DropDownList("appmodule", new SelectList(Enumerable.Empty<SelectListItem>(), "ID", "Name"), new { id = "appmodule", @class = "form-control col-lg-12 thinBorder", style = "color:#005F86; padding-left:10px" })
                                                </div>

                                            </div>
                                        </div>
                                        <div class="row" style="padding-bottom:2px">
                                            <div class="col-lg-3">
                                                <div class="row" style="padding-top:6px">
                                                    <span class="spanb">Area:</span>
                                                </div>

                                            </div>
                                            <div class="col-lg-9">
                                                <div class="row">
                                                    @Html.DropDownList("apparea", new SelectList(Enumerable.Empty<SelectListItem>(), "ID", "Name"), new { id = "apparea", @class = "form-control col-lg-12 thinBorder", style = "color:#005F86; padding-left:10px" })
                                                </div>

                                            </div>
                                        </div>
                                        <div class="row" style="padding-bottom:2px">
                                            <div class="col-lg-3">
                                                <div class="row" style="padding-top:6px">
                                                    <span class="spanb">Task:</span>
                                                </div>
                                            </div>
                                            <div class="col-lg-9">
                                                <div class="row">
                                                    @Html.DropDownList("apptask", new SelectList(Enumerable.Empty<SelectListItem>(), "ID", "Name"), new { id = "apptask", @class = "form-control col-lg-12 thinBorder", style = "color:#005F86; padding-left:10px" })
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-3">
                                                <div class="row" style="padding-top:6px">
                                                    <span class="spanb">Standard:</span>
                                                </div>
                                            </div>
                                            <div class="col-lg-9">
                                                <div class="row">
                                                    @Html.DropDownList("l3id", new SelectList(Enumerable.Empty<SelectListItem>(), "ID", "Name"), new { id = "l3id", @class = "form-control col-lg-12 thinBorder", style = "color:#005F86; padding-left:10px" })
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-12">
                                        <div class="row">
                                            <hr />
                                        </div>
                                    </div>
                                    <div class="col-lg-12">
                                        <div class="row" style="padding-bottom:2px">
                                            <div class="col-lg-3">
                                                <div class="row" style="padding-top:6px">
                                                    <span class="spanc">District:</span>
                                                </div>
                                            </div>
                                            <div class="col-lg-9">
                                                <div class="row">
                                                    @Html.DropDownList("district", new SelectList(Enumerable.Empty<SelectListItem>(), "ID", "DistrictName"), new { id = "district", @class = "form-control col-lg-12 thinBorder", style = "color:#005F86; padding-left:10px" })
                                                </div>
                                            </div>
                                        </div>


                                        @if (ViewBag.tskoid == 52 || ViewBag.IDK == 52 || ViewBag.tskoid == 53 || ViewBag.IDK == 53 || ViewBag.tskoid == 57 || ViewBag.IDK == 57 || ViewBag.tskoid == 58 || ViewBag.IDK == 58)
        {
                                @Html.Hidden("account", new { Value = 0 })
}
else if (ViewBag.tskoid == 55 || ViewBag.IDK == 55 || ViewBag.tskoid == 56 || ViewBag.IDK == 56)
{

                                <div class="row" style="padding-bottom:2px">
                                    <div class="col-lg-3">
                                        <div class="row" style="padding-top:6px">
                                            <span class="spanc">Account:</span>
                                        </div>
                                    </div>
                                    <div class="col-lg-9">
                                        <div class="row">
                                            @Html.DropDownList("account", new SelectList(Enumerable.Empty<SelectListItem>(), "IDc", "CSTNM"), new { id = "account", @class = "form-control col-lg-12 thinBorder", style = "color:#005F86; padding-left:10px" })
                                        </div>
                                    </div>
                                </div>

}
                                    </div>
                                    
                                </div>

                            </div>
                            <div class="col-lg-8">

                                <div class="col-lg-6">

                                    <div class="col-lg-12">
                                        <div class="row" style="padding-bottom:2px">
                                            <div class="col-lg-2">
                                                <div class="row" style="padding-top:6px">
                                                    <span class="spanb">Problem Desc:</span>
                                                </div>
                                            </div>
                                            <div class="col-lg-10">
                                                <div class="row">
                                                    <textarea id="problem" class="form-control thinBorder" rows="2" placeholder="Describe Problem ..."></textarea>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row" style="padding-bottom:2px">
                                            <div class="col-lg-2">
                                                <div class="row" style="padding-top:6px">
                                                    <span class="spanb">Scope, Goal:</span>
                                                </div>
                                            </div>
                                            <div class="col-lg-10">
                                                <div class="row">
                                                    <textarea id="scpobjc" class="form-control thinBorder" rows="2" placeholder="Define Scope, Objective and Goal ..."></textarea>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row" style="padding-bottom:2px">
                                            <div class="col-lg-2">
                                                <div class="row" style="padding-top:6px">
                                                    <span class="spanc">In Scope:</span>
                                                </div>
                                            </div>
                                            <div class="col-lg-10">
                                                <div class="row">
                                                    <textarea id="scopein" class="form-control thinBorder" rows="2" placeholder="Define In Scope ..."></textarea>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row" style="padding-bottom:2px">
                                            <div class="col-lg-2">
                                                <div class="row" style="padding-top:6px">
                                                    <span class="spanb">Current State:</span>
                                                </div>
                                            </div>
                                            <div class="col-lg-10">
                                                <div class="row">
                                                    <textarea id="statecr" class="form-control thinBorder" rows="2" placeholder="Describe Current State ..."></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                </div>
                                <div class="col-lg-6">
                                    <div class="col-lg-12">
                                        <div class="row" style="padding-bottom:2px">
                                            <div class="col-lg-2">
                                                <div class="row" style="padding-top:6px">
                                                    <span class="spanc">Team Members:</span>
                                                </div>
                                            </div>
                                            <div class="col-lg-10">
                                                <div class="row">
                                                    <textarea id="teammbr" class="form-control thinBorder" rows="2" placeholder="List Team Members ..."></textarea>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row" style="padding-bottom:2px">
                                            <div class="col-lg-2">
                                                <div class="row" style="padding-top:6px">
                                                    <span class="spanb">Objective:</span>
                                                </div>
                                            </div>
                                            <div class="col-lg-10">
                                                <div class="row">
                                                    <textarea id="objectv" class="form-control thinBorder" rows="2" placeholder="Define Objective ..."></textarea>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row" style="padding-bottom:2px">
                                            <div class="col-lg-2">
                                                <div class="row" style="padding-top:6px">
                                                    <span class="spanc">Out of Scope:</span>
                                                </div>
                                            </div>
                                            <div class="col-lg-10">
                                                <div class="row">
                                                    <textarea id="scopeot" class="form-control thinBorder" rows="2" placeholder="Define Out of Scope ..."></textarea>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row" style="padding-bottom:2px">
                                            <div class="col-lg-2">
                                                <div class="row" style="padding-top:6px">
                                                    <span class="spanb">Future State:</span>
                                                </div>
                                            </div>
                                            <div class="col-lg-10">
                                                <div class="row">
                                                    <textarea id="stateft" class="form-control thinBorder" rows="2" placeholder="Define Future State ..."></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-lg-12">
                                    <hr />

                                </div>


                                <div class="col-lg-6" style="padding-right:48px; padding-top:26px">

                                    <div style="padding-bottom:2px">
                                        <div class="col-lg-3">
                                            <div class="row" style="padding-top:6px">
                                                <span class="spanc">Proj.Owner:</span>
                                            </div>
                                        </div>
                                        <div class="col-lg-9">
                                            <div class="row">
                                                <input id="prOwner" class="form-control thinBorder" value="@ViewBag.usrnm" style="color:#6399AE; font-size:14px; font-weight:bold" readonly="readonly">
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-bottom:2px">
                                        <div class="col-lg-3" style="padding-top:10px">
                                            <div class="row" style="padding-top:6px; padding-bottom:12px">
                                                <span class="spanb">Comm. To:</span>
                                            </div>
                                        </div>
                                        <div class="col-lg-9" style="padding-top:10px">
                                            <div class="row">
                                                <input id="commres" class="form-control thinBorder" placeholder="Type Name">
                                            </div>
                                        </div>
                                    </div>


                                </div>
                                <div class="col-lg-3" style="padding-top:6px">
                                    <div class="row">
                                        <div class="form-group">
                                            <span class="spanb">Project Progress:</span>
                                            <div class="progress">
                                                <div class="progress-bar progress-bar-info progress-bar-striped active" role="progressbar" id="mainProg"
                                                     aria-valuenow="0.0" aria-valuemin="0" aria-valuemax="100" style="width:0.0%; font-size:12px">
                                                    0.0%
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <span class="spanb">Project Timeline:</span>
                                            <div class="progress">
                                                <div class="progress-bar progress-bar-info progress-bar-striped active" role="progressbar" id="mainTime"
                                                     aria-valuenow="0.0" aria-valuemin="0" aria-valuemax="100" style="width:0.0%; font-size:12px">
                                                    0.0%
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    
                                </div>
                                <div class="col-lg-3" style="padding-top:25px">
                                    <div class="row">
                                        <div class="col-lg-12" style="padding-bottom:11px">
                                            <input type="checkbox" id="complda" style="display:none" />
                                            <button class="btn btn-default col-lg-12 complDoc" id="complDoca"><i class="fa fa-close" style="color:lightpink"></i><span style="padding-left:12px; color:darkred">Not Completed</span></button>
                                            <button class="btn btn-success col-lg-12 complDoc" id="complDocb"><i class="fa fa-check"></i><span style="padding-left:12px">Completed</span></button>
                                        </div>

                                        <div class="col-lg-12" style="padding-top:2px">
                                            <input type="checkbox" id="chck" style="display:none" />
                                            <button class="btn btn-default col-lg-12 champDoc" id="champDoca"><i class="fa fa-close" style="color:lightpink"></i><span style="padding-left:12px; color:darkred">No Champ Signoff</span></button>
                                            <button class="btn btn-success col-lg-12 champDoc" id="champDocb"><i class="fa fa-check"></i><span style="padding-left:12px">Champ Signoff</span></button>
                                        </div>
                                    </div>

                                </div>

                            </div>
                        
                        
                    </div>
                </div>
                <div class="row">


                    <div class="col-lg-12">
                        <hr />

                    </div>
                    <div class="col-lg-12">



                        <table id="dt2" class="multitables table table-hover table-responsive">
                            <thead>
                                <tr style="color:#A4BCC2; font-size:11px">
                                    <th style="text-align:center; max-width:8px">Delete</th>
                                    <th>Step Name</th>
                                    <th>Assigned To:</th>
                                    <th style="text-align:center">Start</th>
                                    <th style="text-align:center">Expected</th>
                                    <th style="text-align:center">Progress</th>
                                    <th style="text-align:center">TimeLine</th>
                                    <th style="text-align:center; max-width:8px">HP</th>
                                    <th style="text-align:center; max-width:8px">COM</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in ViewBag.stepTable)
    {
                            if (item.compld == true)
{
                            <tr style="color:#0076A8; background-color:#F5F5F5">
                                <td style="text-align:center; max-width:8px"><a href="#" class="delStep" onclick="delStep('@item.ID')"><i class="fa fa-trash" style="color:red; transform:scale(1.3)" title="delete"></i></a></td>
                                <td><a href="#" onclick="stepModal('@item.ID')" style="color:darkred">@item.stepnm</a></td>
                                <td>@item.assgto</td>
                                <td style="text-align:center; max-width:60px">@item.datest</td>
                                <td style="text-align:center; max-width:60px">@item.dateex</td>
                                <td style="text-align:center">
                                    @if (item.compld == true)
        {
            if (item.succes >= 100)
            {
                            <div class="progress">
                                <div class="progress-bar progress-bar-success" role="progressbar"
                                     aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width:100%" title="100%">
                                    <span class="progText">Completed!</span>

                                </div>
                            </div>
}
else
{
                            <div class="progress">
                                <div class="progress-bar progress-bar-info" role="progressbar"
                                     aria-valuenow="@item.succes" aria-valuemin="0" aria-valuemax="100" style="width:@item.succes%" title="@item.succes%">
                                    <span class="progText">@item.succes%</span>
                                </div>
                            </div>
}

}
else if (item.succes >= 100)
{
                            <div class="progress">
                                <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar"
                                     aria-valuenow="@item.succes" aria-valuemin="0" aria-valuemax="100" style="width:@item.succes%" title="@item.succes%">
                                    <span class="progText">@item.succes%</span>

                                </div>
                            </div>
}
else
{
                            <div class="progress">
                                <div class="progress-bar progress-bar-info progress-bar-striped active" role="progressbar"
                                     aria-valuenow="@item.succes" aria-valuemin="0" aria-valuemax="100" style="width:@item.succes%" title="@item.succes%">
                                    <span class="progText">@item.succes%</span>
                                </div>
                            </div>
}
                                </td>
                                <td style="text-align:center">
                                    @if (item.timsucce >= 100)
        {
            if (item.compld == true)
            {
                            <div class="progress">
                                <div class="progress-bar progress-bar-danger" role="progressbar"
                                     aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width:100%" title="Overdue!">
                                    <span class="progText">Overdue!</span>
                                </div>
                            </div>
}
else
{
                            <div class="progress">
                                <div class="progress-bar progress-bar-danger progress-bar-striped active" role="progressbar"
                                     aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width:100%" title="Overdue!">
                                    <span class="progText">Overdue!</span>

                                </div>
                            </div>
}

}
else if (item.timsucce >= 80 && item.timsucce < 100)
{
if (item.compld == true)
{
                            <div class="progress">
                                <div class="progress-bar progress-bar-warning" role="progressbar"
                                     aria-valuenow="@item.timsucsa" aria-valuemin="0" aria-valuemax="100" style="width:@item.timsucsb" title="@item.timsucsb">
                                    <span class="progText">@item.timsucsb</span>

                                </div>
                            </div>
}
else
{
                            <div class="progress">
                                <div class="progress-bar progress-bar-warning progress-bar-striped active" role="progressbar"
                                     aria-valuenow="@item.timsucsa" aria-valuemin="0" aria-valuemax="100" style="width:@item.timsucsb" title="@item.timsucsb">
                                    <span class="progText">@item.timsucsb</span>
                                </div>
                            </div>
}
}
else
{
if (item.compld == true)
{
                            <div class="progress">
                                <div class="progress-bar progress-bar-info" role="progressbar"
                                     aria-valuenow="@item.timsucsa" aria-valuemin="0" aria-valuemax="100" style="width:@item.timsucsb" title="@item.timsucsb">
                                    <span class="progText">@item.timsucsb</span>
                                </div>
                            </div>
}
else
{
                            <div class="progress">
                                <div class="progress-bar progress-bar-info progress-bar-striped active" role="progressbar"
                                     aria-valuenow="@item.timsucsa" aria-valuemin="0" aria-valuemax="100" style="width:@item.timsucsb;" title="@item.timsucsb">
                                    <span class="progText">@item.timsucsb</span>
                                </div>
                            </div>
}
}
                                </td>
                                @if (item.priohg == true)
    {
                            <td style="text-align:center; max-width:8px"><i class="fa fa-flag" style="color:red; transform:scale(1.3)" title="high priority"></i></td>
}
else
{
                            <td style="text-align:center; max-width:8px"><span style="color:white">.</span></td>
}
                                @if (item.compld == true)
    {
                            <td style="text-align:center; max-width:8px"><i class="fa fa-check" style="color:forestgreen; transform:scale(1.3)" title="completed"></i></td>
}
else
{
                            <td style="color:white">.</td>
}

                            </tr>
}
else
{
                            <tr style="color:#0076A8">
                                <td style="text-align:center; max-width:8px"><a href="#" class="delStep" onclick="delStep('@item.ID')"><i class="fa fa-trash" style="color:red; transform:scale(1.3)" title="delete"></i></a></td>
                                <td><a href="#" onclick="stepModal('@item.ID')" style="color:darkred">@item.stepnm</a></td>
                                <td>@item.assgto</td>
                                <td style="text-align:center; max-width:60px">@item.datest</td>
                                <td style="text-align:center; max-width:60px">@item.dateex</td>
                                <td style="text-align:center">
                                    @if (item.compld == true)
        {
            if (item.succes >= 100)
            {
                            <div class="progress">
                                <div class="progress-bar progress-bar-success" role="progressbar"
                                     aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width:100%" title="100%">
                                    <span class="progText">Completed!</span>

                                </div>
                            </div>
}
else
{
                            <div class="progress">
                                <div class="progress-bar progress-bar-info" role="progressbar"
                                     aria-valuenow="@item.succes" aria-valuemin="0" aria-valuemax="100" style="width:@item.succes%" title="@item.succes%">
                                    <span class="progText">@item.succes%</span>
                                </div>
                            </div>
}

}
else if (item.succes >= 100)
{
                            <div class="progress">
                                <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar"
                                     aria-valuenow="@item.succes" aria-valuemin="0" aria-valuemax="100" style="width:@item.succes%" title="@item.succes%">
                                    <span class="progText">@item.succes%</span>

                                </div>
                            </div>
}
else
{
                            <div class="progress">
                                <div class="progress-bar progress-bar-info progress-bar-striped active" role="progressbar"
                                     aria-valuenow="@item.succes" aria-valuemin="0" aria-valuemax="100" style="width:@item.succes%" title="@item.succes%">
                                    <span class="progText">@item.succes%</span>
                                </div>
                            </div>
}
                                </td>
                                <td style="text-align:center">
                                    @if (item.timsucce >= 100)
        {
            if (item.compld == true)
            {
                            <div class="progress">
                                <div class="progress-bar progress-bar-danger" role="progressbar"
                                     aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width:100%" title="Overdue!">
                                    <span class="progText">Overdue!</span>
                                </div>
                            </div>
}
else
{
                            <div class="progress">
                                <div class="progress-bar progress-bar-danger progress-bar-striped active" role="progressbar"
                                     aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width:100%" title="Overdue!">
                                    <span class="progText">Overdue!</span>

                                </div>
                            </div>
}

}
else if (item.timsucce >= 80 && item.timsucce < 100)
{
if (item.compld == true)
{
                            <div class="progress">
                                <div class="progress-bar progress-bar-warning" role="progressbar"
                                     aria-valuenow="@item.timsucsa" aria-valuemin="0" aria-valuemax="100" style="width:@item.timsucsb" title="@item.timsucsb">
                                    <span class="progText">@item.timsucsb</span>

                                </div>
                            </div>
}
else
{
                            <div class="progress">
                                <div class="progress-bar progress-bar-warning progress-bar-striped active" role="progressbar"
                                     aria-valuenow="@item.timsucsa" aria-valuemin="0" aria-valuemax="100" style="width:@item.timsucsb" title="@item.timsucsb">
                                    <span class="progText">@item.timsucsb</span>
                                </div>
                            </div>
}
}
else
{
if (item.compld == true)
{
                            <div class="progress">
                                <div class="progress-bar progress-bar-info" role="progressbar"
                                     aria-valuenow="@item.timsucsa" aria-valuemin="0" aria-valuemax="100" style="width:@item.timsucsb" title="@item.timsucsb">
                                    <span class="progText">@item.timsucsb</span>
                                </div>
                            </div>
}
else
{
                            <div class="progress">
                                <div class="progress-bar progress-bar-info progress-bar-striped active" role="progressbar"
                                     aria-valuenow="@item.timsucsa" aria-valuemin="0" aria-valuemax="100" style="width:@item.timsucsb;" title="@item.timsucsb">
                                    <span class="progText">@item.timsucsb</span>
                                </div>
                            </div>
}
}
                                </td>
                                @if (item.priohg == true)
    {
                            <td style="text-align:center; max-width:8px"><i class="fa fa-flag" style="color:red; transform:scale(1.3)" title="high priority"></i></td>
}
else
{
                            <td style="text-align:center; max-width:8px"><span style="color:white">.</span></td>
}
                                @if (item.compld == true)
    {
                            <td style="text-align:center; max-width:8px"><i class="fa fa-check" style="color:forestgreen; transform:scale(1.3)" title="completed"></i></td>
}
else
{
                            <td style="color:white">.</td>
}

                            </tr>
}



}
                            </tbody>
                        </table>
                        <br />
                    </div>

                    <div class="col-lg-12" align="center">
                        <button type="button" class="btn btn-outline btn-info btn-sm col-lg-12 newStep" style="font-size:14px">Add New Step!</button>

                    </div>
                    <!-- Modal -->
                    <div class="modalb fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                        <div class="modalb-dialog">
                            <div class="modalb-content">
                                <div class="modalb-header" style="background-color:#005F86">
                                    <button type="button" class="close" onclick="reload()">&times;</button>
                                    <h4 class="modalb-title" id="myModalLabel" style="padding-left:16px">
                                        <span style="color:white">Step: </span>
                                        <span style="color:#F69240"> Edit </span>
                                    </h4>
                                </div>

                                <div class="modalb-body">
                                    <br />
                                    <div class="col-lg-12">
                                        <div class="row">
                                            <div class="col-lg-5">
                                                
                                                    <div class="col-lg-3">
                                                        <div class="row" style="padding-top:6px">
                                                            <span class="spanb">Step Name:</span>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-9" style="padding-bottom:2px">
                                                        <div class="row">
                                                            <input id="stepnm" class="form-control thinBorder" placeholder="Type Step Name">
                                                        </div>
                                                    </div>
                                                
                                                
                                                    <div class="col-lg-3">
                                                        <div class="row" style="padding-top:6px">
                                                            <span class="spanc">Assigned To:</span>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-9" style="padding-bottom:2px">
                                                        <div class="row">
                                                            <input id="assgto" class="form-control thinBorder" placeholder="Type Name">
                                                        </div>
                                                    </div>
                                                
                                                
                                                    <div class="col-lg-3">
                                                        <div class="row" style="padding-top:6px">
                                                            <span class="spanb">Description:</span>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-9" style="padding-bottom:2px">
                                                        <div class="row">
                                                            <textarea id="stepds" class="form-control thinBorder" rows="4" placeholder="Describe Step"></textarea>
                                                        </div>
                                                    </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <div class="col-lg-2">
                                                    <div class="row" style="padding-top:6px">
                                                        <span class="spanb">Start:</span>
                                                    </div>
                                                </div>
                                                <div class="col-lg-10" style="padding-bottom:2px">
                                                    <div class="row">
                                                        <input type="text" class="datepicker-here form-control thinBorder" id="datest" data-timepicker="true" style="max-width:250px; text-align:center" placeholder="select date and time" />
                                                    </div>
                                                </div>
                                                <div class="col-lg-2">
                                                    <div class="row" style="padding-top:6px">
                                                        <span class="spanb">Due:</span>
                                                    </div>
                                                </div>
                                                <div class="col-lg-10" style="padding-bottom:26px">
                                                    <div class="row">
                                                        <input type="text" class="datepicker-here form-control thinBorder" id="dateex" data-timepicker="true" style="max-width:250px; text-align:center" placeholder="select date and time" />
                                                    </div>
                                                </div>
                                                
                                                <div class="col-lg-2">
                                                    <div class="row" style="padding-top:6px">
                                                        <span class="spanb">Progress:</span>
                                                    </div>
                                                </div>
                                                <div class="col-lg-10" style="padding-top:6px">
                                                    <div class="progress">
                                                        <div class="progress-bar progress-bar-info progress-bar-striped active" role="progressbar" id="succProg"
                                                             aria-valuenow="0.0" aria-valuemin="0" aria-valuemax="100" style="width:0.0%; color:white">
                                                            0.0%
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-2">
                                                    <div class="row" style="padding-top:6px">
                                                        <span class="spanb">Timeline:</span>
                                                    </div>
                                                </div>
                                                <div class="col-lg-10" style="padding-top:6px">
                                                    <div class="progress">
                                                        <div class="progress">
                                                            <div class="progress-bar progress-bar-info progress-bar-striped active" role="progressbar" id="timeProg"
                                                                 aria-valuenow="0.0" aria-valuemin="0" aria-valuemax="100" style="width:0.0%; color:white">
                                                                0.0%
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>



                                            </div>
                                            <div class="col-lg-3">
                                                <div class="col-lg-4">
                                                    <div class="row" style="padding-top:6px">
                                                        <span class="spanb">Progress:</span>
                                                    </div>
                                                </div>
                                                <div class="col-lg-8" style="padding-bottom:15px">
                                                    <input type="number" class="form-control thinBorder" min="0" max="100" id="succes" style="font-size:28px; font-weight:bold; color:#6399AE" />
                                                </div>
                                                <div class="col-lg-6" style="padding-bottom:12px">
                                                    <div class="row">
                                                        <div class="col-lg-2">
                                                            <div class="row">
                                                                <span class="spanb">Hrs:</span>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-10">
                                                            <div class="row">
                                                                <input type="number" class="form-control thinBorder" min="0" max="100" id="wrkhrs" style="font-size:16px; font-weight:bold; color:#6399AE" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6" style="padding-bottom:12px">
                                                    <div class="row">
                                                        <div class="col-lg-2">
                                                            <div class="row">
                                                                <span class="spanb">Min:</span>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-10">
                                                            <div class="row">
                                                                <input type="number" class="form-control thinBorder" min="0" max="59" id="wrkmin" style="font-size:14px; font-weight:bold; color:#6399AE" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-lg-6" style="padding-bottom:20px">
                                                    <div class="row">
                                                        <div class="col-lg-6">
                                                            <div class="row">
                                                                <span class="spanb">$ Dollars:</span>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-10">
                                                            <div class="row">
                                                                <input type="number" class="form-control thinBorder" min="0" id="expsdl" style="font-size:16px; font-weight:bold; color:#6399AE" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6">
                                                    <div class="row">
                                                        <div class="col-lg-2">
                                                            <div class="row">
                                                                <span class="spanb">Cents:</span>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-10">
                                                            <div class="row">
                                                                <input type="number" class="form-control thinBorder" min="0" max="99" id="expsct" style="font-size:14px; font-weight:bold; color:#6399AE" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>

                                    
                                        
                                                <div class="col-lg-12" style="color:#0076A8">

                                                    <h4>Incompliance:</h4>
                                                    <hr />
                                                </div>

                                                <div class="col-lg-2">
                                                    <div class="form-group">
                                                        <input type="checkbox" id="incUnit" style="transform:scale(1.3)">
                                                        <label style="color:#6399AE; padding-left:4px">Unit</label>
                                                    </div>
                                                    <div class="form-group">
                                                        <input type="checkbox" id="incPart" style="transform:scale(1.3)">
                                                        <label style="color:#6399AE; padding-left:4px">Part</label>
                                                    </div>
                                                    <div class="form-group">
                                                        <input type="checkbox" id="incModule" style="transform:scale(1.3)">
                                                        <label style="color:#6399AE; padding-left:4px">Module</label>
                                                    </div>
                                                    <div class="form-group">
                                                        <input type="checkbox" id="incTool" style="transform:scale(1.3)">
                                                        <label style="color:#6399AE; padding-left:4px">Tool</label>
                                                    </div>
                                                </div>
                                                <div class="col-lg-2">
                                                    <div class="form-group">
                                                        <input type="checkbox" id="incMaterial" style="transform:scale(1.3)">
                                                        <label style="color:#6399AE; padding-left:4px">Material</label>
                                                    </div>
                                                    <div class="form-group">
                                                        <input type="checkbox" id="incAccess" style="transform:scale(1.3)">
                                                        <label style="color:#6399AE; padding-left:4px">Access</label>
                                                    </div>
                                                    <div class="form-group">
                                                        <input type="checkbox" id="incData" style="transform:scale(1.3)">
                                                        <label style="color:#6399AE; padding-left:4px">Data</label>
                                                    </div>
                                                    <div class="form-group">
                                                        <input type="checkbox" id="incDocument" style="transform:scale(1.3)">
                                                        <label style="color:#6399AE; padding-left:4px">Document</label>
                                                    </div>
                                                </div>
                                                <div class="col-lg-2">
                                                    <div class="form-group">
                                                        <input type="checkbox" id="incReport" style="transform:scale(1.3)">
                                                        <label style="color:#6399AE; padding-left:4px">Report</label>
                                                    </div>
                                                    <div class="form-group">
                                                        <input type="checkbox" id="incSME" style="transform:scale(1.3)">
                                                        <label style="color:#6399AE; padding-left:4px">SME</label>
                                                    </div>
                                                    <div class="form-group">
                                                        <input type="checkbox" id="incStuff" style="transform:scale(1.3)">
                                                        <label style="color:#6399AE; padding-left:4px">Stuff</label>
                                                    </div>
                                                    <div class="form-group">
                                                        <input type="checkbox" id="incTime" style="transform:scale(1.3)">
                                                        <label style="color:#6399AE; padding-left:4px">Time</label>
                                                    </div>
                                                </div>
                                                <div class="col-lg-2">
                                                    <div class="form-group">
                                                        <input type="checkbox" id="incMoney" style="transform:scale(1.3)">
                                                        <label style="color:#6399AE; padding-left:4px">Money</label>
                                                    </div>
                                                    <div class="form-group">
                                                        <input type="checkbox" id="incSetup" style="transform:scale(1.3)">
                                                        <label style="color:#6399AE; padding-left:4px">Setup</label>
                                                    </div>
                                                    <div class="form-group">
                                                        <input type="checkbox" id="incMisusage" style="transform:scale(1.3)">
                                                        <label style="color:#6399AE; padding-left:4px">Misusage</label>
                                                    </div>
                                                    <div class="form-group">
                                                        <input type="checkbox" id="incVehicle" style="transform:scale(1.3)">
                                                        <label style="color:#6399AE; padding-left:4px">Vehicle</label>
                                                    </div>
                                                </div>
                                                <div class="col-lg-4">
                                                    <div class="form-group">
                                                        <input type="checkbox" id="incOther" style="transform:scale(1.3)">
                                                        <label style="color:#6399AE; padding-left:4px">Other</label>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="color:#6399AE">Other Description:</label>
                                                        <textarea id="incOthDs" class="form-control thinBorder" rows="3" placeholder="Describe Other"></textarea>
                                                    </div>
                                                </div>
                                           

                                   
                                    <span style="color:white">.</span>
                                </div>
                                <div class="modalb-footer" style="background-color:#CED5DD">
                                    <span style="padding-right:10px"><input type="checkbox" id="priohg" style="transform:scale(2)" /></span>
                                    <span style="color:red; padding-right:3px"><i class="fa fa-flag"></i></span>
                                    <span style="padding-right:60px; color:#005F86; font-size:16px"><b>High Priority!</b></span>
                                    <span style="padding-right:10px"><input type="checkbox" id="compld" style="transform:scale(2)" /></span>
                                    <span style="padding-right:40px; color:#005F86; font-size:16px"><b>Step Completed!</b></span>
                                    <button type="button" class="btn btn-danger" data-dismiss="modal" onclick="reload()">Dismiss!</button>
                                    <button type="button" class="btn btn-success SaveStep">Save changes</button>
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.modal -->
                </div>

                <div class="row">
                    <div class="col-lg-12" style="padding-bottom:20px">
                        <hr />
                        <span style="color:#F69240; font-size:12px"> Document ID: </span><span style="color:#0076A8; font-size:12px; padding-right:5px"> @ViewBag.docID </span>
                    </div>
                </div>

                <div class="loadimage">
                    <div class="loadmeRect">
                        <div class="loadmeRectChild loadmeRect1"></div>
                        <div class="loadmeRectChild loadmeRect2"></div>
                        <div class="loadmeRectChild loadmeRect3"></div>
                        <div class="loadmeRectChild loadmeRect4"></div>
                        <div class="loadmeRectChild loadmeRect5"></div>
                    </div>
                    @*<div class="loadme-mask"></div>*@
                </div>

            </div>
        </div>
    </div>

    <script src="~/Scripts/jquery-1.10.2.js"></script>
    <!--/# data handler java script-->
    <!--/# data handler java script-->
    <script src="~/js/uhsHome/jquery.js"></script>
    <script src="~/js/uhsHome/bootstrap.min.js"></script>
    <!-- iCheck -->
    <script src="~/vendors/iCheck/icheck.min.js"></script>
    <!-- Metis Menu Plugin JavaScript -->
    <script src="~/js/metisMenu.min.js"></script>
    <script src="~/js/uhsHome/owl.carousel.min.js"></script>
    <script src="~/js/uhsHome/mousescroll.js"></script>
    <script src="~/js/uhsHome/jquery.prettyPhoto.js"></script>
    <script src="~/js/uhsHome/jquery.isotope.min.js"></script>
    <script src="~/js/uhsHome/jquery.inview.min.js"></script>
    <script src="~/js/uhsHome/wow.min.js"></script>
    <!-- Datatables -->
    <script src="~/vendors/datatables.net/js/jquery.dataTables.min.js"></script>
    <script src="~/vendors/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
    <script src="~/vendors/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
    <script src="~/vendors/datatables.net-buttons-bs/js/buttons.bootstrap.min.js"></script>
    <script src="~/vendors/datatables.net-buttons/js/buttons.flash.min.js"></script>
    <script src="~/vendors/datatables.net-buttons/js/buttons.html5.min.js"></script>
    <script src="~/vendors/datatables.net-buttons/js/buttons.print.min.js"></script>
    <script src="~/vendors/datatables.net-fixedheader/js/dataTables.fixedHeader.min.js"></script>
    <script src="~/vendors/datatables.net-keytable/js/dataTables.keyTable.min.js"></script>
    <script src="~/vendors/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
    <script src="~/vendors/datatables.net-responsive-bs/js/responsive.bootstrap.js"></script>
    <script src="~/vendors/datatables.net-scroller/js/dataTables.scroller.min.js"></script>
    <script src="~/js/jquery-confirm.min.js"></script>
    <script src="~/dist/js/datepicker.min.js"></script>
    <!-- iCheck -->
    <script src="~/js/metisMenu.min.js"></script>

    <!-- iCheck -->
    <script type="text/javascript">
        $(document).ready(function () {
            $('.loadimage').hide();
        });
    </script>
    <script type="text/javascript">
        $(document).ready(function () {
            $('table.multitables').DataTable({
                "order": [[8, "desc"], [6, "desc"], [1, "asc"]]
                //"order": [[0, "desc"]]
            });
        });
    </script>

    <script type="text/javascript">
        $(document).ready(function () {
            $(".SaveStep").on('click', function () {
                var btn = 2;
                var stn = $("#stepnm").val().replace(/(\r\n\t|\n|\r\t)/gm, " ");
                var da = $("#datest").val().replace(/(\r\n\t|\n|\r\t)/gm, " ");
                var db = $("#dateex").val().replace(/(\r\n\t|\n|\r\t)/gm, " ");
                var da1 = da.slice(0, 2); var da2 = da.slice(3, 5); var da3 = da.slice(6, 10); var da4 = da.slice(11, 13); var da5 = da.slice(14, 16);
                var dat = da3.toString() + da1.toString() + da2.toString() + da4.toString() + da5.toString();
                var db1 = db.slice(0, 2); var db2 = db.slice(3, 5); var db3 = db.slice(6, 10); var db4 = db.slice(11, 13); var db5 = db.slice(14, 16);
                var dbt = db3.toString() + db1.toString() + db2.toString() + db4.toString() + db5.toString();
                if (stn == null || stn == "") {
                    alert("Please type Step Name!");
                } else
                if (da == null || da == "") {
                    alert("Please select Start Date!");
                }
                else if (db == null || db == "") {
                    alert("Please select Expected Date!");
                }
                else if (dbt <= dat) {
                    alert("Expected Date must be later then Start Date!");
                }
                else {
                    var chek = $("#sID").val();

                    if (chek == null || chek == "") {
                        save3010002();
                    }
                    else {
                        edit3010002();
                    }
                }
            });
            $(".btnSave02").on('click', function () {
                var btn = 2;
                var project = $("#project").val().replace(/(\r\n\t|\n|\r\t)/gm, " ");
                var appmodule = $("#appmodule").val();
                var apparea = $("#apparea").val();
                var apptask = $("#apptask").val();
                var l3id = $("#l3id").val();
                var district = $("#district").val();
                var account = $("#account").val();
                if (project == null || project == "") {
                    alert("Please enter Project Name:");
                } else if (appmodule == 0) {
                    alert("Please select App Module:");
                }
                else if (apparea == 0) {
                    alert("Please select Area:");
                }
                else if (apptask == 0) {
                    alert("Please select Task:");
                }
                else if (l3id == 0) {
                    alert("Please select Standard:");
                }
                else if (district == 0) {
                    alert("Please select District:");
                }
                else if ((@ViewBag.tskoid == 55 || @ViewBag.tskoid == 56) && account == 0) {
                    alert("Please select Account:");
                }
                else
                {
                    edit3010001(btn);
                }

            });
            $(".btnSave03").on('click', function () {
                var btn = 3;
                var project = $("#project").val().replace(/(\r\n\t|\n|\r\t)/gm, " ");
                var appmodule = $("#appmodule").val();
                var apparea = $("#apparea").val();
                var apptask = $("#apptask").val();
                var l3id = $("#l3id").val();
                var district = $("#district").val();
                var account = $("#account").val();
                if (project == null || project == "") {
                    alert("Please enter Project Name:");
                } else if (appmodule == 0) {
                    alert("Please select App Module:");
                }
                else if (apparea == 0) {
                    alert("Please select Area:");
                }
                else if (apptask == 0) {
                    alert("Please select Task:");
                }
                else if (l3id == 0) {
                    alert("Please select Standard:");
                }
                else if (district == 0) {
                    alert("Please select District:");
                }
                else if ((@ViewBag.tskoid == 55 || @ViewBag.tskoid == 56) && account == 0) {
                    alert("Please select Account:");
                } else {
                    edit3010001(btn);
                }
            });
            $('.newStep').on('click', function () {
                var compld = $("#complda").is(":checked");
                var a = 4;
                if (compld == false) {
                    var project = $("#project").val().replace(/(\r\n\t|\n|\r\t)/gm, " ");
                    var appmodule = $("#appmodule").val();
                    var apparea = $("#apparea").val();
                    var apptask = $("#apptask").val();
                    var l3id = $("#l3id").val();
                    var district = $("#district").val();
                    var account = $("#account").val();
                    if (project == null || project == "") {
                        alert("Please enter Project Name:");
                    } else if (appmodule == 0) {
                        alert("Please select App Module:");
                    }
                    else if (apparea == 0) {
                        alert("Please select Area:");
                    }
                    else if (apptask == 0) {
                        alert("Please select Task:");
                    }
                    else if (l3id == 0) {
                        alert("Please select Standard:");
                    }
                    else if (district == 0) {
                        alert("Please select District:");
                    }
                    else if ((@ViewBag.tskoid == 55 || @ViewBag.tskoid == 56) && account == 0) {
                        alert("Please select Account:");
                    }
                    else
                    {
                        edit3010001(a);
                        $('#myModal').modal('toggle');
                    }


                }
                else {
                    alert("This document is checked Completed! Adding New Steps is not alowed!");
                }

            });
            $("#compld").on('change', function () {
                
                var stn = $("#stepnm").val().replace(/(\r\n\t|\n|\r\t)/gm, " ");
                var da = $("#datest").val().replace(/(\r\n\t|\n|\r\t)/gm, " ");
                var db = $("#dateex").val().replace(/(\r\n\t|\n|\r\t)/gm, " ");
                var da1 = da.slice(0, 2); var da2 = da.slice(3, 5); var da3 = da.slice(6, 10); var da4 = da.slice(11, 13); var da5 = da.slice(14, 16);
                var dat = da3.toString() + da1.toString() + da2.toString() + da4.toString() + da5.toString();
                var db1 = db.slice(0, 2); var db2 = db.slice(3, 5); var db3 = db.slice(6, 10); var db4 = db.slice(11, 13); var db5 = db.slice(14, 16);
                var dbt = db3.toString() + db1.toString() + db2.toString() + db4.toString() + db5.toString();
                if (stn == null || stn == "") {
                    alert("Please type Step Name!");
                } else
                    if (da == null || da == "") {
                        alert("Please select Start Date!");
                    }
                    else if (db == null || db == "") {
                        alert("Please select Expected Date!");
                    }
                    else if (dbt <= dat) {
                        alert("Expected Date must be later then Start Date!");
                    } else {
                        var compl = $("#compld").is(":checked");
                        if (compl == true) {
                            $("#stepnm").attr('readonly', true);
                            $("#stepds").attr('readonly', true);
                            $("#assgto").attr('readonly', true);
                            $("#wrkhrs").attr('readonly', true);
                            $("#wrkmin").attr('readonly', true);
                            $("#expsdl").attr('readonly', true);
                            $("#expsct").attr('readonly', true);
                            $("#priohg").attr('disabled', 'disabled');
                            $("#succes").attr('readonly', true);
                            $("#incUnit").attr('disabled', 'disabled');
                            $("#incPart").attr('disabled', 'disabled');
                            $("#incModule").attr('disabled', 'disabled');
                            $("#incTool").attr('disabled', 'disabled');
                            $("#incMaterial").attr('disabled', 'disabled');
                            $("#incAccess").attr('disabled', 'disabled');
                            $("#incData").attr('disabled', 'disabled');
                            $("#incDocument").attr('disabled', 'disabled');
                            $("#incReport").attr('disabled', 'disabled');
                            $("#incSME").attr('disabled', 'disabled');
                            $("#incStuff").attr('disabled', 'disabled');
                            $("#incTime").attr('disabled', 'disabled');
                            $("#incMoney").attr('disabled', 'disabled');
                            $("#incSetup").attr('disabled', 'disabled');
                            $("#incMisusage").attr('disabled', 'disabled');
                            $("#incVehicle").attr('disabled', 'disabled');
                            $("#incOther").attr('disabled', 'disabled');
                            $("#incOthDs").attr('readonly', true);
                            $("#datest").attr("disabled", "disabled");
                            $("#dateex").attr("disabled", "disabled");
                            $("#succProg").removeClass("progress-bar-striped active");
                            $("#timeProg").removeClass("progress-bar-striped active");
                        } else {

                            $("#stepds").attr('readonly', false);
                            $("#assgto").attr('readonly', false);
                            $("#wrkhrs").attr('readonly', false);
                            $("#wrkmin").attr('readonly', false);
                            $("#expsdl").attr('readonly', false);
                            $("#expsct").attr('readonly', false);
                            $("#priohg").removeAttr('disabled');
                            $("#succes").attr('readonly', false);
                            $("#incUnit").removeAttr('disabled');
                            $("#incPart").removeAttr('disabled');
                            $("#incModule").removeAttr('disabled');
                            $("#incTool").removeAttr('disabled');
                            $("#incMaterial").removeAttr('disabled');
                            $("#incAccess").removeAttr('disabled');
                            $("#incData").removeAttr('disabled');
                            $("#incDocument").removeAttr('disabled');
                            $("#incReport").removeAttr('disabled');
                            $("#incSME").removeAttr('disabled');
                            $("#incStuff").removeAttr('disabled');
                            $("#incTime").removeAttr('disabled');
                            $("#incMoney").removeAttr('disabled');
                            $("#incSetup").removeAttr('disabled');
                            $("#incMisusage").removeAttr('disabled');
                            $("#incVehicle").removeAttr('disabled');
                            $("#incOther").removeAttr('disabled');
                            $("#incOthDs").attr('readonly', false);
                            $("#succProg").addClass("progress-bar-striped active");
                            $("#timeProg").addClass("progress-bar-striped active");
                            $('.SaveStep').css({ "visibility": "visible" });
                        }
                    }
            });
            $('.complDoc').on('click', function (e) {
                var complda = $("#complda").is(":checked");
                if (complda == true) {
                    $("#complda").prop("checked", false);
                    $("#complDocb").css("display", "none");
                    $("#complDoca").css("display", "block");
                } else {
                    $("#complda").prop("checked", true);
                    $("#complDoca").css("display", "none");
                    $("#complDocb").css("display", "block");                   
                }
                compldaChange();
            });
            $('.champDoc').on('click', function (e) {
                var chck = $("#chck").is(":checked");
                if (chck == true) {
                    $("#chck").prop("checked", false);
                    $("#champDocb").css("display", "none");
                    $("#champDoca").css("display", "block");
                } else {
                    $("#chck").prop("checked", true);
                    $("#champDoca").css("display", "none");
                    $("#champDocb").css("display", "block");
                }
            });           
            function compldaChange() {
                var project = $("#project").val().replace(/(\r\n\t|\n|\r\t)/gm, " ");
                var appmodule = $("#appmodule").val();
                var apparea = $("#apparea").val();
                var apptask = $("#apptask").val();
                var l3id = $("#l3id").val();
                var district = $("#district").val();
                var account = $("#account").val();
                if (project == null || project == "") {
                    alert("Please enter Project Name:");
                    $("#complDocb").css("display", "none");
                    $("#complDoca").css("display", "block");
                } else if (appmodule == 0) {
                    alert("Please select App Module:");
                    $("#complDocb").css("display", "none");
                    $("#complDoca").css("display", "block");
                }
                else if (apparea == 0) {
                    alert("Please select Area:");
                    $("#complda").prop("checked", false);
                    $("#complDocb").css("display", "none");
                    $("#complDoca").css("display", "block");
                }
                else if (apptask == 0) {
                    alert("Please select Task:");
                    $("#complda").prop("checked", false);
                    $("#complDocb").css("display", "none");
                    $("#complDoca").css("display", "block");
                }
                else if (l3id == 0) {
                    alert("Please select Standard:");
                    $("#complda").prop("checked", false);
                    $("#complDocb").css("display", "none");
                    $("#complDoca").css("display", "block");
                }
                else if (district == 0) {
                    alert("Please select District:");
                    $("#complda").prop("checked", false);
                    $("#complDocb").css("display", "none");
                    $("#complDoca").css("display", "block");
                }
                else if ((@ViewBag.tskoid == 55 || @ViewBag.tskoid == 56) && account == 0) {
                    alert("Please select Account:");
                    $("#complda").prop("checked", false);
                    $("#complDocb").css("display", "none");
                    $("#complDoca").css("display", "block");
                } else {
                    edit3010001(3);
                }  
            };
            function save3010002() {
                $("head").addClass("loadDiv");
                $('.loadimage').show();
                var docID = '@ViewBag.docID';
                var edusid = @ViewBag.userID;
                var tzoffset = (new Date()).getTimezoneOffset() * 60000;
                var d = (new Date(Date.now() - tzoffset));
                var datet = d.toISOString(); // ISO "2013-12-08T17:55:38.130Z"
                var dt1 = datet.slice(0, 4);
                var dt2 = datet.slice(5, 7);
                var dt3 = datet.slice(8, 10);
                var tm1 = datet.slice(11, 13);
                var tm2 = datet.slice(14, 16);
                var tm3 = datet.slice(17, 19);
                var tmt = dt1.toString() + dt2.toString() + dt3.toString() + tm1.toString() + tm2.toString() + tm3.toString();
                var eddt = datet.slice(0, 10) + ' ' + datet.slice(11, 23); // "2013-12-08 17:55:38.130"
                var dater = dt2.toString() + "/" + dt3.toString() + "/" + dt1.toString() + " " + tm1.toString() + ":" + tm2.toString();
                var ID = docID + tmt.toString();
                var projid = 13;
                var tskoid = 65;
                var dcgrid = 3010;
                var dctpid = 3010002;
                var tspdid = 1;
                var distid = $("#district").val();
                var acctid = $("#account").val();
                var dimgid = @ViewBag.dimgid;
                var docmid = '@ViewBag.docmid';
                var L3ID = $("#l3id").val();
                var stepnm = $("#stepnm").val().replace(/(\r\n\t|\n|\r\t)/gm, " ");
                var stepds = $("#stepds").val().replace(/(\r\n\t|\n|\r\t)/gm, " ");
                var datest = $("#datest").val();
                var dateex = $("#dateex").val();
                var assgto = $("#assgto").val().replace(/(\r\n\t|\n|\r\t)/gm, " ");
                var wrkhrsb = $("#wrkhrs").val(); if (wrkhrsb == null || wrkhrsb == 0) { var wrkhrs = 0 } else { wrkhrs = wrkhrsb };
                var wrkminb = $("#wrkmin").val(); if (wrkminb == null || wrkminb == 0) { var wrkmin = 0 } else { wrkmin = wrkminb };
                var expsdlb = $("#expsdl").val(); if (expsdlb == null || expsdlb == 0) { var expsdl = 0 } else { expsdl = expsdlb };
                var expsctb = $("#expsct").val(); if (expsctb == null || expsctb == 0) { var expsct = 0 } else { expsct = expsctb };
                var priohg = $("#priohg").is(":checked");
                var compld = $("#compld").is(":checked");
                if (compld == true) {
                    var dateed = dater;
                    var compid = edusid;
                }
                else {
                    var dateed = null;
                    var compid = 0;
                }
                var succesb = $("#succes").val(); if (succesb == null || succesb == 0) { var succes = 0 } else { succes = succesb };
                var incUnit = $("#incUnit").is(":checked");
                var incPart = $("#incPart").is(":checked");
                var incModule = $("#incModule").is(":checked");
                var incTool = $("#incTool").is(":checked");
                var incMaterial = $("#incMaterial").is(":checked");
                var incAccess = $("#incAccess").is(":checked");
                var incData = $("#incData").is(":checked");
                var incDocument = $("#incDocument").is(":checked");
                var incReport = $("#incReport").is(":checked");
                var incSME = $("#incSME").is(":checked");
                var incStuff = $("#incStuff").is(":checked");
                var incTime = $("#incTime").is(":checked");
                var incMoney = $("#incMoney").is(":checked");
                var incSetup = $("#incSetup").is(":checked");
                var incMisusage = $("#incMisusage").is(":checked");
                var incVehicle = $("#incVehicle").is(":checked");
                var incOther = $("#incOther").is(":checked");
                var incOthDs = $("#incOthDs").val().replace(/(\r\n\t|\n|\r\t)/gm, " ");
                var chck = false;
                var chckid = 0;
                var chckdt = null;
                var crdt = $("#doccrdt").val();
                var crusid = $("doccrusid").val();
                var data = {
                    ID: ID,
                    IDT: docID,
                    projid: projid,
                    tskoid: tskoid,
                    dcgrid: dcgrid,
                    dctpid: dctpid,
                    tspdid: tspdid,
                    distid: distid,
                    acctid: acctid,
                    userid: edusid,
                    dimgid: dimgid,
                    docmid: docmid,
                    L3ID: L3ID,
                    stepnm: stepnm,
                    stepds: stepds,
                    datest: datest,
                    dateex: dateex,
                    assgto: assgto,
                    wrkhrs: wrkhrs,
                    wrkmin: wrkmin,
                    expsdl: expsdl,
                    expsct: expsct,
                    priohg: priohg,
                    compld: compld,
                    compid: compid,
                    dateed: dateed,
                    succes: succes,
                    incUnit: incUnit,
                    incPart: incPart,
                    incModule: incModule,
                    incTool: incTool,
                    incMaterial: incMaterial,
                    incAccess: incAccess,
                    incData: incData,
                    incDocument: incDocument,
                    incReport: incReport,
                    incSME: incSME,
                    incStuff: incStuff,
                    incTime: incTime,
                    incMoney: incMoney,
                    incSetup: incSetup,
                    incMisusage: incMisusage,
                    incVehicle: incVehicle,
                    incOther: incOther,
                    incOthDs: incOthDs,
                    chck: chck,
                    chckid: chckid,
                    chckdt: chckdt,
                    crdt: eddt,
                    eddt: eddt,
                    crusid: edusid,
                    edusid: edusid
                };
                $.ajax({
                    type: "POST",
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify(data),
                    url: '/uhsCH/save3010002',
                    dataType: "JSON",
                    success: function (respond) {
                        if (respond == 1) {
                            location.reload();
                        }
                        else {
                            alert("Error: Failed to save Step!");
                        }
                    }
                });
            };
            function edit3010002() {
                $("head").addClass("loadDiv");
                $('.loadimage').show();
                var docID = '@ViewBag.docID';
                var edusid = @ViewBag.userID;
                var tzoffset = (new Date()).getTimezoneOffset() * 60000;
                var d = (new Date(Date.now() - tzoffset));
                var datet = d.toISOString(); // ISO "2013-12-08T17:55:38.130Z"
                var dt1 = datet.slice(0, 4);
                var dt2 = datet.slice(5, 7);
                var dt3 = datet.slice(8, 10);
                var tm1 = datet.slice(11, 13);
                var tm2 = datet.slice(14, 16);
                var tm3 = datet.slice(17, 19);
                var tmt = dt1.toString() + dt2.toString() + dt3.toString() + tm1.toString() + tm2.toString() + tm3.toString();
                var eddt = datet.slice(0, 10) + ' ' + datet.slice(11, 23); // "2013-12-08 17:55:38.130"
                var dater = dt2.toString() + "/" + dt3.toString() + "/" + dt1.toString() + " " + tm1.toString() + ":" + tm2.toString();
                var ID = $("#sID").val();
                var projid = 13;
                var tskoid = 65;
                var dcgrid = 3010;
                var dctpid = 3010002;
                var tspdid = 1;
                var distid = $("#district").val();
                var acctid = $("#account").val();

                var dimgid = @ViewBag.dimgid;
                var docmid = '@ViewBag.docmid';
                var L3ID = $("#l3id").val();
                var stepnm = $("#stepnm").val().replace(/(\r\n\t|\n|\r\t)/gm, " ");
                var stepds = $("#stepds").val().replace(/(\r\n\t|\n|\r\t)/gm, " ");
                var datest = $("#datest").val();
                var dateex = $("#dateex").val();
                var assgto = $("#assgto").val().replace(/(\r\n\t|\n|\r\t)/gm, " ");
                var wrkhrsb = $("#wrkhrs").val(); if (wrkhrsb == null || wrkhrsb == 0) { var wrkhrs = 0; } else { var wrkhrs = wrkhrsb; };
                var wrkminb = $("#wrkmin").val(); if (wrkminb == null || wrkminb == 0) { var wrkmin = 0; } else { var wrkmin = wrkminb; };
                var expsdlb = $("#expsdl").val(); if (expsdlb == null || expsdlb == 0) { var expsdl = 0; } else { var expsdl = expsdlb; };
                var expsctb = $("#expsct").val(); if (expsctb == null || expsctb == 0) { var expsct = 0; } else { var expsct = expsctb; };
                var priohg = $("#priohg").is(":checked");
                var compld = $("#compld").is(":checked");
                var scompld = $("#scompld").val();

                if (compld == scompld) {
                    var dateed = $("#sdateed").val();
                    var compid = $("#scompid").val();
                }
                else {
                    if (compld == true) {
                        var dateed = dater;
                        var compid = edusid;
                    }
                    else {
                        var dateed = null;
                        var compid = 0;
                    }
                }
                var succesb = $("#succes").val(); if (succesb == null || succesb == 0) { var succes = 0 } else { succes = succesb };
                var incUnit = $("#incUnit").is(":checked");
                var incPart = $("#incPart").is(":checked");
                var incModule = $("#incModule").is(":checked");
                var incTool = $("#incTool").is(":checked");
                var incMaterial = $("#incMaterial").is(":checked");
                var incAccess = $("#incAccess").is(":checked");
                var incData = $("#incData").is(":checked");
                var incDocument = $("#incDocument").is(":checked");
                var incReport = $("#incReport").is(":checked");
                var incSME = $("#incSME").is(":checked");
                var incStuff = $("#incStuff").is(":checked");
                var incTime = $("#incTime").is(":checked");
                var incMoney = $("#incMoney").is(":checked");
                var incSetup = $("#incSetup").is(":checked");
                var incMisusage = $("#incMisusage").is(":checked");
                var incVehicle = $("#incVehicle").is(":checked");
                var incOther = $("#incOther").is(":checked");
                var incOthDs = $("#incOthDs").val().replace(/(\r\n\t|\n|\r\t)/gm, " ");
                var chck = false;
                var chckid = 0;
                var chckdt = null;
                var crdt = $("#scrdt").val();
                var crusid = $("scrusid").val();
                var data = {
                    ID: ID,
                    IDT: docID,
                    projid: projid,
                    tskoid: tskoid,
                    dcgrid: dcgrid,
                    dctpid: dctpid,
                    tspdid: tspdid,
                    distid: distid,
                    acctid: acctid,
                    userid: edusid,
                    dimgid: dimgid,
                    docmid: docmid,
                    L3ID: L3ID,
                    stepnm: stepnm,
                    stepds: stepds,
                    datest: datest,
                    dateex: dateex,
                    assgto: assgto,
                    wrkhrs: wrkhrs,
                    wrkmin: wrkmin,
                    expsdl: expsdl,
                    expsct: expsct,
                    priohg: priohg,
                    compld: compld,
                    compid: compid,
                    dateed: dateed,
                    succes: succes,
                    incUnit: incUnit,
                    incPart: incPart,
                    incModule: incModule,
                    incTool: incTool,
                    incMaterial: incMaterial,
                    incAccess: incAccess,
                    incData: incData,
                    incDocument: incDocument,
                    incReport: incReport,
                    incSME: incSME,
                    incStuff: incStuff,
                    incTime: incTime,
                    incMoney: incMoney,
                    incSetup: incSetup,
                    incMisusage: incMisusage,
                    incVehicle: incVehicle,
                    incOther: incOther,
                    incOthDs: incOthDs,
                    chck: chck,
                    chckid: chckid,
                    chckdt: chckdt,
                    crdt: eddt,
                    eddt: eddt,
                    crusid: edusid,
                    edusid: edusid
                };
                $.ajax({
                    type: "POST",
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify(data),
                    url: '/uhsCH/edit3010002',
                    dataType: "JSON",
                    success: function (respond) {
                        if (respond == 1) {
                            location.reload();
                        }
                        else {
                            alert("Error: Failed to Edit Step!");
                        }
                    }
                });
            };
            function edit3010001(a) {
                $("head").addClass("loadDiv");
                $('.loadimage').show();
                var data1 = @Html.Raw(Json.Encode(ViewBag.pageData));
                $.each(data1, function (ID, data1) {
                    var edusid = @ViewBag.userID;
                    var tzoffset = (new Date()).getTimezoneOffset() * 60000;
                    var d = (new Date(Date.now() - tzoffset));
                    var datet = d.toISOString(); // ISO "2013-12-08T17:55:38.130Z"
                    var eddt = datet.slice(0, 10) + ' ' + datet.slice(11, 23); // "2013-12-08 17:55:38.130"
                    var ID = '@ViewBag.docID';
                    var projid = 13;
                    var tskoid = 65;
                    var dcgrid = 3010;
                    var dctpid = 3010001;
                    var tspdid = 1;
                    var distid = $("#district").val();
                    var acctid = $("#account").val();
                    var userid = edusid;
                    var dimgid = data1.dimgid;
                    var docmid = data1.docmid;
                    var L3ID = $("#l3id").val();
                    var project = $("#project").val().replace(/(\r\n\t|\n|\r\t)/gm, " ");
                    var problem = $("#problem").val().replace(/(\r\n\t|\n|\r\t)/gm, " ");
                    var oprmngr = $("#oprmngr").val().replace(/(\r\n\t|\n|\r\t)/gm, " ");
                    var kznlead = $("#kznlead").val().replace(/(\r\n\t|\n|\r\t)/gm, " ");
                    var teammbr = $("#teammbr").val().replace(/(\r\n\t|\n|\r\t)/gm, " ");
                    var scpobjc = $("#scpobjc").val().replace(/(\r\n\t|\n|\r\t)/gm, " ");
                    var objectv = $("#objectv").val().replace(/(\r\n\t|\n|\r\t)/gm, " ");
                    var scopein = $("#scopein").val().replace(/(\r\n\t|\n|\r\t)/gm, " ");
                    var scopeot = $("#scopeot").val().replace(/(\r\n\t|\n|\r\t)/gm, " ");
                    var statecr = $("#statecr").val().replace(/(\r\n\t|\n|\r\t)/gm, " ");
                    var stateft = $("#stateft").val().replace(/(\r\n\t|\n|\r\t)/gm, " ");
                    var commres = $("#commres").val().replace(/(\r\n\t|\n|\r\t)/gm, " ");
                    var compldb = data1.compld;
                    var compidb = data1.compid;
                    var chckb = data1.chck;
                    var chckidb = data1.chckid;
                    var chckdtb = data1.chckdt;
                    var crdt = data1.crdt;
                    var crusid = data1.crusid;
                    var datest = data1.datest;
                    var dateex = data1.dateex;
                    var dateed = data1.dateed;
                    var avgsucce = data1.avgsucce;
                    var chckdtb = data1.chckdt;
                    var complda = $("#complda").is(":checked");
                    if (complda != compldb) {
                        var compld = complda;
                        var compid = edusid;
                    } else {
                        var compld = compldb;
                        var compid = compidb;
                    }
                    var chcka = $("#chck").is(":checked");
                    if (chcka != chckb) {
                        var chck = chcka;
                        var chckid = edusid;
                        var chckdt = eddt;
                    } else {
                        var chck = chckb;
                        var chckid = chckidb;
                        var chckdt = chckdtb;
                    }
                    var data = {
                        ID: ID,
                        projid: projid,
                        tskoid: tskoid,
                        dcgrid: dcgrid,
                        dctpid: dctpid,
                        tspdid: tspdid,
                        distid: distid,
                        acctid: acctid,
                        userid: userid,
                        dimgid: dimgid,
                        docmid: docmid,
                        L3ID: L3ID,
                        project: project,
                        problem: problem,
                        oprmngr: oprmngr,
                        kznlead: kznlead,
                        teammbr: teammbr,
                        scpobjc: scpobjc,
                        objectv: objectv,
                        scopein: scopein,
                        scopeot: scopeot,
                        statecr: statecr,
                        stateft: stateft,
                        commres: commres,
                        compld: compld,
                        compid: compid,
                        datest: datest,
                        dateex: dateex,
                        dateed: dateed,
                        avgsucce: avgsucce,
                        chck: chck,
                        chckid: chckid,
                        chckdt: chckdt,
                        crdt: crdt,
                        eddt: eddt,
                        crusid: crusid,
                        edusid: edusid
                    };
                    $.ajax({
                        type: "POST",
                        contentType: "application/json; charset=utf-8",
                        data: JSON.stringify(data),
                        url: '/uhsCH/edit3010001',
                        dataType: "JSON",
                        success: function (respond) {
                            if (respond == 1) {
                                if (a == 2) {
                                    if (@ViewBag.IDF == 1) {
                                        window.location = "/uhsworktask/Index?projectID=13&taskOrderID=65&Int1=1";
                                    }
                                    else if (@ViewBag.IDF == 2) {
                                        window.top.close();
                                    }
                                }
                                else if (a == 3) {
                                    location.reload();
                                }
                                else if (a == 4) {
                                    $('.loadimage').hide();
                                    $("head").removeClass("loadDiv");

                                }
                            }
                            else {
                                alert("Error: Failed to save Step!");
                            }
                        }
                    });
                });
            };
        });
    </script>
    <script type="text/javascript">
        $(document).ready(function () {
            var data1 = @Html.Raw(Json.Encode(ViewBag.pageData));
            var mode = @Html.Raw(Json.Encode(ViewBag.mode));
            var task = @Html.Raw(Json.Encode(ViewBag.task));
            var dist = @Html.Raw(Json.Encode(ViewBag.districts));
            var acct = @Html.Raw(Json.Encode(ViewBag.accts));
            var inquries = @Html.Raw(Json.Encode(ViewBag.inquries));
            $('.complDoc').css("display", "none");
            $('.champDoc').css("display", "none");
            $.each(data1, function (ID, data1) {
                $("#project").val(data1.project);
                if (data1.project != null && data1.project != "" && data1.project != " ") {
                    $("#project").attr('readonly', 'readonly');
                }
                $("#complda").prop("checked", data1.compld);
                $("#chck").prop("checked", data1.chck);
                if (data1.compld == true) {
                    $("#complDocb").css("display", "block");
                } else {
                    $("#complDoca").css("display", "block");
                }
                if (data1.chck == true) {
                    $("#champDocb").css("display", "block");
                } else {
                    $("#champDoca").css("display", "block");
                }
                $("#problem").val(data1.problem);
                $("#oprmngr").val(data1.oprmngr);
                $("#kznlead").val(data1.kznlead);
                $("#teammbr").val(data1.teammbr);
                $("#scpobjc").val(data1.scpobjc);
                $("#objectv").val(data1.objectv);
                $("#scopein").val(data1.scopein);
                $("#scopeot").val(data1.scopeot);
                $("#statecr").val(data1.statecr);
                $("#stateft").val(data1.stateft);
                $("#commres").val(data1.commres);  
                $("#district").val(data1.distid);
                $("#account").val(data1.acctid);
                $("#l3id").val(data1.L3ID);
                if (data1.compld == true) {
                    $("#problem").attr('readonly', true);
                    $("#oprmngr").attr('readonly', true);
                    $("#kznlead").attr('readonly', true);
                    $("#teammbr").attr('readonly', true);
                    $("#scpobjc").attr('readonly', true);
                    $("#objectv").attr('readonly', true);
                    $("#scopein").attr('readonly', true);
                    $("#scopeot").attr('readonly', true);
                    $("#statecr").attr('readonly', true);
                    $("#stateft").attr('readonly', true);
                    $("#commres").attr('readonly', true);
                    $("#district").attr('readonly', true);
                    $("#account").attr('readonly', true);
                    $("#appmodule").attr('readonly', true);
                    $("#apparea").attr('readonly', true);
                    $("#apptask").attr('readonly', true);
                    $("#l3id").attr('readonly', true);
                    $("#compld").attr('disabled', 'disabled');

                    $("#stepds").attr('readonly', true);
                    $("#assgto").attr('readonly', true);
                    $("#wrkhrs").attr('readonly', true);
                    $("#wrkmin").attr('readonly', true);
                    $("#expsdl").attr('readonly', true);
                    $("#expsct").attr('readonly', true);
                    $("#priohg").attr('disabled', 'disabled');
                    $("#succes").attr('readonly', true);
                    $("#incUnit").attr('disabled', 'disabled');
                    $("#incPart").attr('disabled', 'disabled');
                    $("#incModule").attr('disabled', 'disabled');
                    $("#incTool").attr('disabled', 'disabled');
                    $("#incMaterial").attr('disabled', 'disabled');
                    $("#incAccess").attr('disabled', 'disabled');
                    $("#incData").attr('disabled', 'disabled');
                    $("#incDocument").attr('disabled', 'disabled');
                    $("#incReport").attr('disabled', 'disabled');
                    $("#incSME").attr('disabled', 'disabled');
                    $("#incStuff").attr('disabled', 'disabled');
                    $("#incTime").attr('disabled', 'disabled');
                    $("#incMoney").attr('disabled', 'disabled');
                    $("#incSetup").attr('disabled', 'disabled');
                    $("#incMisusage").attr('disabled', 'disabled');
                    $("#incVehicle").attr('disabled', 'disabled');
                    $("#incOther").attr('disabled', 'disabled');
                    $("#incOthDs").attr('readonly', true);
                    $('.SaveStep').css({ "visibility": "hidden" });

                }
                $("#mainProg").attr('aria-valuenow', data1.avgsucsa).css('width', data1.avgsucsb).html("progress: " + data1.avgsucsb);
                if (data1.compld == true) {
                    if (data1.avgsucce == 100) {
                        $("#mainProg").removeClass("progress-bar-info progress-bar-striped active").addClass("progress-bar-success").html("").attr('aria-valuenow', '100').css('width', '100%').html('Success!');
                    }
                    else {
                        $("#mainProg").removeClass("progress-bar-striped active").html("").attr('aria-valuenow', data1.avgsucsa).css('width', data1.avgsucsb).html(data1.avgsucsb);
                    }
                }
                else {
                    if (data1.avgsucce == 100) {
                        $("#mainProg").removeClass("progress-bar-info").addClass("progress-bar-success").html("").attr('aria-valuenow', '100').css('width', '100%').html('Success!');
                    }
                    else {
                        $("#mainProg").html("").attr('aria-valuenow', data1.avgsucsa).css('width', data1.avgsucsb).html(data1.avgsucsb);
                    }
                }
                if (data1.compld == true) {
                    if (data1.prgsucce > 100) {
                        $("#mainTime").removeClass("progress-bar-info progress-bar-striped active").addClass("progress-bar-danger").html("").attr('aria-valuenow', '100').css('width', '100%').html('Overdue!');
                    }
                    else if (data1.prgsucce == 100){
                        $("#mainTime").removeClass("progress-bar-info progress-bar-striped active").addClass("progress-bar-success").html("").attr('aria-valuenow', '100').css('width', '100%').html('On Time!');
                    }
                    else if (data1.prgsucce >= 80 && data1.prgsucce < 100) {
                        $("#mainTime").removeClass("progress-bar-info progress-bar-striped active").addClass("progress-bar-warning").html("").attr('aria-valuenow', data1.prgsucsa).css('width', data1.prgsucsb).html(data1.prgsucsb);
                    }
                    else {
                        $("#mainTime").removeClass("progress-bar-striped active").html("").attr('aria-valuenow', data1.prgsucsa).css('width', data1.prgsucsb).html(data1.prgsucsb);
                    }
                }
                else {
                    if (data1.prgsucce > 100) {
                        $("#mainTime").removeClass("progress-bar-info").addClass("progress-bar-danger").html("").attr('aria-valuenow', '100').css('width', '100%').html('Overdue!');
                    }
                    else if (data1.prgsucce == 100) {
                        $("#mainTime").removeClass("progress-bar-info").addClass("progress-bar-success").html("").attr('aria-valuenow', '100').css('width', '100%').html('On Time!');
                    }
                    else if (data1.prgsucce >= 80 && data1.prgsucce < 100) {
                        $("#mainTime").removeClass("progress-bar-info").addClass("progress-bar-warning").html("").attr('aria-valuenow', data1.prgsucsa).css('width', data1.prgsucsb).html(data1.prgsucsb);
                    }
                    else {
                        $("#mainTime").attr('aria-valuenow', data1.prgsucsa).css('width', data1.prgsucsb).html(data1.prgsucsb);
                    }
                }
                if (data1.L3ID != 0) {
                    $.each(inquries, function (ID, inquries) {
                        if (inquries.ID != data1.L3ID) {
                            return;
                        }
                        $("#appmodule").append(
                            $('<option></option>').val(inquries.tskoid).html(inquries.taskOrder));
                        $("#appmodule").val(inquries.tskoid);
                        $("#apparea").append(
                            $('<option></option>').val(inquries.L1ID).html(inquries.L1DS));
                        $("#apparea").val(inquries.L1ID);
                        $("#apptask").append(
                            $('<option></option>').val(inquries.L2ID).html(inquries.L2DS));
                        $("#apptask").val(inquries.L2ID);
                        $("#l3id").append(
                            $('<option></option>').val(inquries.ID).html(inquries.L3DS));
                        $("#l3id").val(data1.L3ID);
                    });
                    $.each(dist, function (ID, dist) {
                        $("#district").append(
                            $('<option></option>').val(dist.ID).html(dist.DistrictName));
                        $("#district").val(dist.ID);
                    });
                    if (@ViewBag.tskoid == 55 || @ViewBag.tskoid == 56) {
                        $.each(acct, function (ID, acct) {
                            $("#account").append(
                                $('<option></option>').val(acct.ID).html(acct.CSTNM));
                            $("#account").val(acct.ID);
                        });
                    }
                }
                else if (data1.L3ID == 0) {
                    if (@ViewBag.IDK == 52) {
                        $.each(mode, function (ID, mode) {
                            $("#appmodule").append(
                                $('<option></option>').val(mode.tskoid).html(mode.taskOrder));
                            $("#appmodule").val(mode.tskoid);

                        });
                        $.each(task, function (ID, task) {
                            $("#apparea").append(
                                $('<option></option>').val(task.L1ID).html(task.L1DS));

                        });
                        $.each(dist, function (ID, dist) {
                            $("#district").append(
                                $('<option></option>').val(dist.ID).html(dist.DistrictName));
                        });
                    }
                    else if (@ViewBag.IDK == 53 || @ViewBag.IDK == 57 || @ViewBag.IDK == 58) {
                        $.each(mode, function (ID, mode) {
                            $("#appmodule").append(
                                $('<option></option>').val(mode.tskoid).html(mode.taskOrder));
                            $("#appmodule").val(mode.tskoid);

                        });
                        $.each(task, function (ID, task) {
                            $("#apparea").append(
                                $('<option></option>').val(task.L1ID).html(task.L1DS));

                        });
                        $.each(dist, function (ID, dist) {
                            $("#district").append(
                                $('<option></option>').val(dist.ID).html(dist.DistrictName));
                        });

                    }
                    else if (@ViewBag.IDK == 55 || @ViewBag.IDK == 56) {
                        $.each(mode, function (ID, mode) {
                            $("#appmodule").append(
                                $('<option></option>').val(mode.tskoid).html(mode.taskOrder));
                            $("#appmodule").val(mode.tskoid);

                        });
                        $.each(task, function (ID, task) {
                            $("#apparea").append(
                                $('<option></option>').val(task.L1ID).html(task.L1DS));

                        });
                        $.each(dist, function (ID, dist) {
                            $("#district").append(
                                $('<option></option>').val(dist.ID).html(dist.DistrictName));
                        });

                    }
                }
            });
        });
    </script>
    <script type="text/javascript">
        $(document).ready(function () {
            var chk = @ViewBag.tskoid;
            var task = @Html.Raw(Json.Encode(ViewBag.task));
            var tasg = @Html.Raw(Json.Encode(ViewBag.tasg));
            var inquries = @Html.Raw(Json.Encode(ViewBag.inquries));
            var accts = @Html.Raw(Json.Encode(ViewBag.accts));
            $("#apparea").on('change', function () {
                var idt = $("#apparea").val();
                if (chk == 52) {
                    if (idt == 0) {
                        $("#apptask").html("");
                        $("#l3id").html("");
                    }
                    else {
                        $("#apptask").html("");
                        $("#l3id").html("");
                        $.each(tasg, function (ID, tasg) {
                            if (tasg.L1ID != idt && tasg.L1ID != 0) {
                                return;
                            }
                            $("#apptask").append(
                                $('<option></option>').val(tasg.L2ID).html(tasg.L2DS));
                        });
                    }
                }
                else if (chk == 53 || chk == 55 || chk == 56 || chk == 57 || chk == 58) {

                    if (idt == 0) {
                        $("#apptask").html("");
                        $("#l3id").html("");
                    }
                    else {
                        $("#apptask").html("");
                        $("#l3id").html("");
                        $.each(inquries, function (ID, inquries) {
                            if (inquries.L1ID != idt && inquries.L1ID != 0) {
                                return;
                            }
                            $("#apptask").append(
                                $('<option></option>').val(inquries.L2ID).html(inquries.L2DS));
                        });
                    }
                }
            });
            $("#apptask").on('change', function () {
                var idt = $("#apptask").val();
                if (chk == 52) {
                    if (idt == 0) {
                        $("#l3id").html("");
                    }
                    else {
                        $("#l3id").html("");
                        $.each(inquries, function (ID, inquries) {
                            if (inquries.L2ID != idt && inquries.L2ID != 0) {
                                return;
                            }
                            $("#l3id").append(
                                $('<option></option>').val(inquries.ID).html(inquries.L3DS));
                        });
                    }
                }
                else if (chk == 53 || chk == 55 || chk == 56 || chk == 57 || chk == 58) {
                    if (idt == 0) {
                        $("#l3id").html("");
                    }
                    else {
                        $("#l3id").html("");
                        $.each(inquries, function (ID, inquries) {
                            if (inquries.L2ID != idt && inquries.L1ID != 0) {
                                return;
                            }
                            $("#l3id").append(
                                $('<option></option>').val(inquries.ID).html(inquries.L3DS));
                        });
                    }
                }
            });
            $("#district").on('change', function () {
                var idt = $("#district").val();
                if (chk == 55 || chk == 56) {
                    if (idt == 0) {
                        $("#account").html("");
                    }
                    else {
                        $("#account").html("");
                        $.each(accts, function (IDc, accts) {
                            if (accts.DISTID != idt && accts.DISTID != 0) {
                                return;
                            }
                            $("#account").append(
                                $('<option></option>').val(accts.IDc).html(accts.CSTNM));
                        });
                    }
                }
                else {

                }
            });
        });
    </script>
    <script type="text/javascript">
        function closeDoc() {
            var cns = @ViewBag.cntSteps;
            if (cns < 1) {
                $.confirm({
                    title: 'Warning <i class="fa fa-exclamation-circle" style="color:red"></i>',
                    content: 'This <span style="color:#0076A8"><b> A3 Form </b></span> contains "0" Steps.<br>If you click <b>"Confirm"</b> it will be dismissed.<br>If you would like to save this document without steps please click <b> "Cancel" </b>.<br>Use <span style="color:forestgreen; font-weight:bold;"> "Save & Close" </span> button instead of <span style="color:red; font-weight:bold;"> "Quit" </span>!',
                    buttons: {
                        confirm: function () {
                            var a = '@ViewBag.docID';
                            $.ajax({
                                url: '/uhsCH/delDoc3010001',
                                type: "GET",
                                dataType: "JSON",
                                data: { id: a },
                                success: function (response) {
                                    if (response == 1) {
                                        if (@ViewBag.IDF == 1) {
                                            window.location = "/uhsworktask/Index?projectID=13&taskOrderID=65&Int1=1";
                                        }
                                        else if (@ViewBag.IDF == 2) {
                                            window.top.close();
                                        }
                                        
                                    }
                                    else {
                                        alert("Error: Failed to delete document!");
                                    }
                                }
                            });
                        },
                        cancel: function () {
                        }
                    }
                });
            }
            else {    
                if (@ViewBag.IDF == 1) {
                        window.location = "/uhsworktask/Index?projectID=13&taskOrderID=65&Int1=1";
                    }
                    else if (@ViewBag.IDF == 2) {
                        window.top.close();
                };
            }
        };
        function reload() {
            location.reload();
        };
    </script>

    <script type="text/javascript">
        function stepModal(a) {
            var steps = @Html.Raw(Json.Encode(ViewBag.stepTable));
            $.each(steps, function (ID, steps) {
                if (a != steps.ID) {
                    return;
                }
                $("#sID").val(steps.ID);
                $("#scrdt").val(steps.crdt);
                $("#scompid").val(steps.compid);
                $("#scrusid").val(steps.crusid);
                $("#scompld").val(steps.compld);
                $("#sdateed").val(steps.dateed);
                $("#stepnm").val(steps.stepnm);
                $("#compld").prop("checked", steps.compld);
                if (steps.stepnm != null && steps.stepnm != "" && steps.stepnm != " ") {
                    $("#stepnm").attr('readonly', 'readonly'); 'disabled', 'disabled'
                }
                $("#datest").val(steps.datest);
                if (steps.datest != null && steps.datest != "" && steps.datest != " ") {
                    $("#datest").attr("disabled", "disabled");
                }
                $("#dateex").val(steps.dateex);
                if (steps.dateex != null && steps.dateex != "" && steps.dateex != " ") {
                    $("#dateex").attr("disabled", "disabled");
                }
                if (steps.compld == true) {
                    $("#stepds").val(steps.stepds).attr('readonly', true);
                    $("#assgto").val(steps.assgto).attr('readonly', true);
                    $("#wrkhrs").val(steps.wrkhrs).attr('readonly', true);
                    $("#wrkmin").val(steps.wrkmin).attr('readonly', true);
                    $("#expsdl").val(steps.expdol).attr('readonly', true);
                    $("#expsct").val(steps.expcnt).attr('readonly', true);
                    $("#priohg").prop("checked", steps.priohg).attr('disabled', 'disabled');
                    $("#succes").val(steps.succes).attr('readonly', true);
                    $("#incUnit").prop("checked", steps.incUnit).attr('disabled', 'disabled');
                    $("#incPart").prop("checked", steps.incPart).attr('disabled', 'disabled');
                    $("#incModule").prop("checked", steps.incModule).attr('disabled', 'disabled');
                    $("#incTool").prop("checked", steps.incTool).attr('disabled', 'disabled');
                    $("#incMaterial").prop("checked", steps.incMaterial).attr('disabled', 'disabled');
                    $("#incAccess").prop("checked", steps.incAccess).attr('disabled', 'disabled');
                    $("#incData").prop("checked", steps.incData).attr('disabled', 'disabled');
                    $("#incDocument").prop("checked", steps.incDocument).attr('disabled', 'disabled');
                    $("#incReport").prop("checked", steps.incReport).attr('disabled', 'disabled');
                    $("#incSME").prop("checked", steps.incSME).attr('disabled', 'disabled');
                    $("#incStuff").prop("checked", steps.incStuff).attr('disabled', 'disabled');
                    $("#incTime").prop("checked", steps.incTime).attr('disabled', 'disabled');
                    $("#incMoney").prop("checked", steps.incMoney).attr('disabled', 'disabled');
                    $("#incSetup").prop("checked", steps.incSetup).attr('disabled', 'disabled');
                    $("#incMisusage").prop("checked", steps.incMisusage).attr('disabled', 'disabled');
                    $("#incVehicle").prop("checked", steps.incVehicle).attr('disabled', 'disabled');
                    $("#incOther").prop("checked", steps.incOther).attr('disabled', 'disabled');
                    $("#incOthDs").val(steps.incOthDs).attr('readonly', true);
                    $('.SaveStep').css({ "visibility": "hidden" });
                } else {
                    $("#stepds").val(steps.stepds);
                    $("#assgto").val(steps.assgto);
                    $("#wrkhrs").val(steps.wrkhrs);
                    $("#wrkmin").val(steps.wrkmin);
                    $("#expsdl").val(steps.expdol);
                    $("#expsct").val(steps.expcnt);
                    $("#priohg").prop("checked", steps.priohg);
                    $("#succes").val(steps.succes);
                    $("#incUnit").prop("checked", steps.incUnit);
                    $("#incPart").prop("checked", steps.incPart);
                    $("#incModule").prop("checked", steps.incModule);
                    $("#incTool").prop("checked", steps.incTool);
                    $("#incMaterial").prop("checked", steps.incMaterial);
                    $("#incAccess").prop("checked", steps.incAccess);
                    $("#incData").prop("checked", steps.incData);
                    $("#incDocument").prop("checked", steps.incDocument);
                    $("#incReport").prop("checked", steps.incReport);
                    $("#incSME").prop("checked", steps.incSME);
                    $("#incStuff").prop("checked", steps.incStuff);
                    $("#incTime").prop("checked", steps.incTime);
                    $("#incMoney").prop("checked", steps.incMoney);
                    $("#incSetup").prop("checked", steps.incSetup);
                    $("#incMisusage").prop("checked", steps.incMisusage);
                    $("#incVehicle").prop("checked", steps.incVehicle);
                    $("#incOther").prop("checked", steps.incOther);
                    $("#incOthDs").val(steps.incOthDs);
                }
                var ita = steps.succes;
                var itb = ita.toString() + ".0";
                var itc = ita.toString() + ".0%";
                if (steps.compld == true) {
                    if (ita == 100) {
                        $("#succProg").removeClass("progress-bar-info progress-bar-striped active").addClass("progress-bar-success").attr('aria-valuenow', '100').css('width', '100%').html('').html('Success!');
                    }
                    else {
                        $("#succProg").removeClass("progress-bar-striped active").attr('aria-valuenow', itb).css('width', itc).html(itc);
                    }
                }
                else {
                    if (ita == 100) {
                        $("#succProg").removeClass("progress-bar-info").addClass("progress-bar-success").attr('aria-valuenow', '100').css('width', '100%').html("").html('Success!');
                    }
                    else {
                        $("#succProg").attr('aria-valuenow', itb).css('width', itc).html(itc);
                    }
                }
                if (steps.compld == true) {
                    if (steps.timsucce > 100) {
                        $("#timeProg").removeClass("progress-bar-info progress-bar-striped active").addClass("progress-bar-danger").html("").attr('aria-valuenow', '100').css('width', '100%').html('Overdue!');
                    } else if (steps.timsucce == 100) {
                        $("#timeProg").removeClass("progress-bar-info progress-bar-striped active").addClass("progress-bar-success").attr('aria-valuenow', '100').css('width', '100%').html("").html('On Time!');
                    } else if (steps.timsucce >= 80 && steps.timsucce < 100) {
                        $("#timeProg").removeClass("progress-bar-info progress-bar-striped active").addClass("progress-bar-warning").attr('aria-valuenow', steps.timsucsa).css('width', steps.timsucsb).html(steps.timsucsb);
                    } else {
                        $("#timeProg").removeClass("progress-bar-striped active").attr('aria-valuenow', steps.timsucsa).css('width', steps.timsucsb).html(steps.timsucsb);
                    }

                }
                else {
                    if (steps.timsucce > 100) {
                        $("#timeProg").removeClass("progress-bar-info").addClass("progress-bar-danger").html("").attr('aria-valuenow', '100').css('width', '100%').html('Overdue!');
                    } else if (steps.timsucce == 100) {
                        $("#timeProg").removeClass("progress-bar-info").addClass("progress-bar-success").attr('aria-valuenow', '100').css('width', '100%').html("").html('On Time!');
                    } else if (steps.timsucce >= 80 && steps.timsucce < 100) {
                        $("#timeProg").removeClass("progress-bar-info").addClass("progress-bar-warning").attr('aria-valuenow', steps.timsucsa).css('width', steps.timsucsb).html(steps.timsucsb);
                    } else {
                        $("#timeProg").attr('aria-valuenow', steps.timsucsa).css('width', steps.timsucsb).html(steps.timsucsb);
                    }
                }
            });
            $('#myModal').modal('toggle');
        }
    </script>
    
    <script type="text/javascript">
        $(document).ready(function () {
            $(".delList").on('click', function (e) {
                e.preventDefault();
            });
        });
    </script>
    
    <script type="text/javascript">
        $(document).ready(function () {
            $("#succes").on('change', function () {
                var ita = $("#succes").val();
                var itb = ita.toString() + ".0";
                var itc = ita.toString() + ".0%";
                if (ita == 100) {
                    $("#succProg").removeClass("progress-bar-info progress-bar-striped active").addClass("progress-bar-success");
                    $("#succProg").attr('aria-valuenow', '100').css('width', '100%').html('100%');
                }
                else {
                    $("#succProg").removeClass("progress-bar-success").addClass("progress-bar-info progress-bar-striped active");
                    $("#succProg").attr('aria-valuenow', itb).css('width', itc).html(itc);
                }
            });

        });
    </script>
    <script type="text/javascript">
        function delStep(a) {
            var compld = $("#complda").is(":checked");
            if (compld == true) {
                alert("This A3 Form is checked Completed. It is not possible to delete a step!");
            } else {
                $.confirm({
                    title: 'Delete!',
                    content: 'Are you sure?',
                    buttons: {
                        confirm: function () {
                            $.ajax({
                                url: '/uhsCH/delStep3010002',
                                type: "GET",
                                dataType: "JSON",
                                data: { id: a },
                                success: function (response) {
                                    if (response == 1) {
                                        location.reload();
                                    }
                                    else {
                                        alert("Error: Failed to delete document!");
                                    }
                                }
                            });
                        },
                        cancel: function () {
                        }
                        //,
                        //somethingElse: {
                        //    text: 'Something else',
                        //    btnClass: 'btn-blue',
                        //    keys: ['enter', 'shift'],
                        //    action: function(){
                        //        $.alert('Something else?');
                        //    }
                        //}
                    }
                });
            }
            
        };

    </script>
    <script>
        // tooltip demo
        $('.tooltip-demo').tooltip({
            selector: "[data-toggle=tooltip]",
            container: "body"
        })

        // popover demo
        $("[data-toggle=popover]").popover()
    </script>


</body>
</html>
